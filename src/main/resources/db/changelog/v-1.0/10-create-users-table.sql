CREATE TABLE users
(
    id             BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
    keycloakUserId VARCHAR                                 NOT NULL,
    name           VARCHAR(55)                             NOT NULL,
    password       VARCHAR                                 NOT NULL,
    status         VARCHAR(10) DEFAULT 'ACTIVE'            NOT NULL,
    companies_id   BIGINT                                  NOT NULL,
    CONSTRAINT pk_users PRIMARY KEY (id)
);


ALTER TABLE users
    ADD CONSTRAINT uc_users_name UNIQUE (name),
    ADD CONSTRAINT uc_users_keycloakUserId UNIQUE (keycloakUserId);

ALTER TABLE users
    ADD CONSTRAINT FK_USERS_ON_COMPANIES FOREIGN KEY (companies_id) REFERENCES companies (id);
